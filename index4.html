<!DOCTYPE html>
<html>
<head>
  <title>Multi-API Docs</title>
  <script src="https://unpkg.com/rapidoc/dist/rapidoc-min.js"></script>
  <style>
    /* Dynamic Tabs Styling */
    .tabs { display: flex; flex-wrap: wrap; gap: 5px; margin-bottom: 10px; }
    .tab { 
      padding: 8px 15px; 
      background: #eee; 
      cursor: pointer; 
      border-radius: 4px; 
    }
    .tab:hover { background: #ddd; }
    .tab.active { background: #007BFF; color: white; }
    #apidoc-container { margin-top: 15px; }
  </style>
</head>
<body>
  <h1>API Documentation</h1>
  <div class="tabs" id="tabs-container">
    <!-- Tabs will be added here dynamically -->
  </div>
  <div id="apidoc-container">
    <!-- RapiDoc will load here -->
  </div>

  <script>
    // List of OpenAPI specs (auto-detected or manually defined)
    const specFiles = [
      { name: "Pet Store", path: "specs/petstore.yaml" },
      { name: "Weather API", path: "specs/weather.json" },
      // Add more files as needed (or fetch dynamically)
    ];

    // Generate tabs dynamically
    const tabsContainer = document.getElementById('tabs-container');
    const apidocContainer = document.getElementById('apidoc-container');

    specFiles.forEach((spec, index) => {
      const tab = document.createElement('div');
      tab.className = 'tab';
      tab.textContent = spec.name;
      tab.onclick = () => loadSpec(spec.path, tab);
      tabsContainer.appendChild(tab);

      // Load the first spec by default
      if (index === 0) {
        loadSpec(spec.path, tab);
      }
    });

    // Load the selected spec
    function loadSpec(specUrl, clickedTab) {
      // Highlight active tab
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      clickedTab.classList.add('active');

      // Clear previous doc and load new one
      apidocContainer.innerHTML = `
        <rapi-doc 
          spec-url="${specUrl}" 
          theme="light" 
          render-style="read"
        ></rapi-doc>
      `;
    }
  </script>
</body>
</html>